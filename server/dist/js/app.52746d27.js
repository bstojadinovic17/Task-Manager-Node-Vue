(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],m=0,d=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=n("2f62"),i={name:"App",methods:{...Object(r["b"])(["load_tasks","load_comments","load_users"])},mounted:function(){this.load_tasks(),this.load_comments(),this.load_users()}},c=i,l=(n("034f"),n("2877")),u=Object(l["a"])(c,o,s,!1,null,null,null),m=u.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("b-jumbotron",{attrs:{header:"TO-DO list app",lead:"Simple web app for managing to-do tasks"}},[n("p",[t._v("Login:")]),n("User")],1)],1)},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("b-form-input",{attrs:{placeholder:"Enter your username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("b-form-input",{attrs:{placeholder:"Enter your password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("b-button",{attrs:{variant:"primary",href:"#"},on:{click:t.submitUser}},[t._v("Submit")])],1)],1)],1)],1)},b=[],k={name:"user",methods:{...Object(r["b"])(["log_user"]),submitUser:function(){const t=JSON.stringify({username:this.username,password:this.password});this.log_user(t),localStorage.length>1&&(localStorage.setItem("loggedIn",!0),this.$router.push({path:"/home"}))}}},g=k,_=Object(l["a"])(g,h,b,!1,null,null,null),v=_.exports,y={name:"login",components:{User:v}},w=y,x=Object(l["a"])(w,p,f,!1,null,null,null),j=x.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Header"),t.tasks.length?n("b-table",{attrs:{hover:"","sticky-header":"800px",items:t.tasks,fields:t.fields,"head-variant":"light"},on:{"row-clicked":function(t){}},scopedSlots:t._u([{key:"cell(task_actions)",fn:function(e){return[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){return t.editTask(e.item.id)}}},[t._v("Edit")]),n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return t.delete_task(e.item.id)}}},[t._v("Delete")])]}},{key:"cell(comments_actions)",fn:function(e){return[n("b-button",{attrs:{variant:"success"},on:{click:function(n){return t.viewComments(e.item.id)}}},[t._v("View All")])]}}],null,!1,2102510403)}):n("b-table",{attrs:{"sticky-header":"800px",fields:t.fields,"head-variant":"light"},on:{"row-clicked":function(t){}},scopedSlots:t._u([{key:"cell(task_actions)",fn:function(e){return[n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.editTask}},[t._v("Edit")]),n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return t.delete_task(e.item.id)}}},[t._v("Delete")])]}},{key:"cell(comments_actions)",fn:function(e){return[n("b-button",{attrs:{variant:"success"},on:{click:t.viewComments}},[t._v("View All")])]}}])})],1)},S=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Logged"),n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[t._v("Task Manager")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/home"}},[t._v("Home")]),n("b-nav-item",{on:{click:t.LoggedOut}},[t._v("Logout")])],1),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{attrs:{to:"/new"}},[t._v("New Task")])],1)],1)],1)],1)},C=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(" Ulogovan korisnik: "+t._s(t.currentUser))])])},E=[],D={name:"logged",data(){return{currentUser:localStorage.getItem("user")}}},I=D,N=Object(l["a"])(I,$,E,!1,null,null,null),P=N.exports,H={name:"header",components:{Logged:P},methods:{LoggedOut(){localStorage.clear(),localStorage.setItem("loggedIn",!1),this.$router.push({path:"/"})}}},U=H,L=Object(l["a"])(U,T,C,!1,null,null,null),J=L.exports,M={name:"Home",components:{Header:J},computed:{...Object(r["c"])(["users","tasks","comments"])},data(){return{fields:[{key:"user_id"},{key:"taskname"},{key:"description"},{key:"category"},{key:"task_actions"},{key:"comments_actions"}],items:[]}},methods:{...Object(r["b"])(["delete_task"]),editTask:function(t){this.$router.push({path:"/edit/"+t})},viewComments:function(t){this.$router.push({path:"/comments/"+t})}}},R=M,q=Object(l["a"])(R,O,S,!1,null,null,null),A=q.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-2",label:"Task Name:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Task name"},model:{value:t.form.taskname,callback:function(e){t.$set(t.form,"taskname",e)},expression:"form.taskname"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Description:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Task description"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),n("b-form-group",{attrs:{id:"input-group-4",label:"Category:","label-for":"input-4"}},[n("b-form-select",{attrs:{id:"input-4",options:t.categories,required:""},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e(),n("b-card",{staticClass:"mt-3",attrs:{header:"Form Data Result"}},[n("pre",{staticClass:"m-0"},[t._v(t._s(t.form))])])],1)],1)],1)],1)},z=[],B={name:"NewTask",components:{Header:J},data(){return{form:{taskname:"",description:"",category:null,checked:[]},categories:[{text:"Select One",value:null},"Bussiness","Entertainment","Pleasure","Other"],show:!0}},methods:{...Object(r["b"])(["new_task"]),onSubmit(t){const e=JSON.stringify({user_id:localStorage.getItem("user_id"),taskname:this.form.taskname,description:this.form.description,category:this.form.category});this.$route.params.id||this.new_task(e),t.preventDefault()},onReset(t){t.preventDefault(),this.form.taskname="",this.form.description="",this.form.category=null,this.form.checked=[],this.show=!1,this.$nextTick(()=>{this.show=!0})}}},F=B,G=Object(l["a"])(F,V,z,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Comments for "+t._s(t.$route.params.id))])},W=[],X={name:"Comments",computed:{...Object(r["c"])(["tasks","comments"])}},Y=X,Z=Object(l["a"])(Y,Q,W,!1,null,"21a9d91c",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("b-form",[n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2",offset:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Taskname"},model:{value:t.newTaskname,callback:function(e){t.newTaskname=e},expression:"newTaskname"}})],1),n("b-col",{attrs:{sm:"2",offset:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Description"},model:{value:t.newDescription,callback:function(e){t.newDescription=e},expression:"newDescription"}})],1),n("b-col",{attrs:{sm:"2",offset:"2"}},[n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Category"},model:{value:t.newCategory,callback:function(e){t.newCategory=e},expression:"newCategory"}})],1),n("b-col",{attrs:{sm:"1"}},[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:t.addNew}},[t._v("Save")])],1)],1)],1)],1)},nt=[],at={name:"EditTask",props:{taskname:{type:String,default:""},description:{type:String,default:""},category:{type:String,default:""}},components:{Header:J},data(){return{newTaskname:"",newDescription:"",newCategory:""}},mounted:function(){this.newTaskname=this.taskname,this.newDescription=this.description,this.newCategory=this.category},methods:{...Object(r["b"])(["new_task","change_task"]),addNew:function(){const t=JSON.stringify({taskname:this.newTaskname,description:this.newDescription,category:this.newCategory});this.$route.params.id?this.change_task({id:this.$route.params.id,tsk:t}):this.new_task(t),this.newTaskname="",this.newDescription="",this.newCategory=""}}},ot=at,st=Object(l["a"])(ot,et,nt,!1,null,null,null),rt=st.exports;a["default"].use(d["a"]);var it=new d["a"]({mode:"history",routes:[{path:"/",redirect:{name:"login"}},{path:"/login",name:"login",component:j},{path:"/home",name:"home",component:A,beforeEnter:(t,e,n)=>{0==localStorage.getItem("loggedIn")?n("/"):n()}},{path:"/new",name:"new",component:K},{path:"/edit/:id",name:"editTask",component:rt},{path:"/comments/:id",name:"comments",component:tt}]});a["default"].use(r["a"]);var ct=new r["a"].Store({state:{users:[],user:"",tasks:[],comments:[]},mutations:{set_tasks:function(t,e){t.tasks=e},set_user:function(t,e){t.user=e},add_task:function(t,e){t.tasks.push(e)},remove_task:function(t,e){for(let n=0;n<t.tasks.length;n++)if(t.tasks[n].id===e){t.tasks.splice(n,1);break}},update_task:function(t,e){for(let n=0;n<t.tasks.length;n++)if(t.tasks[n].id===parseInt(e.id)){t.tasks[n].taskname=e.msg.taskname,t.tasls[n].description=e.msg.description,t.tasks[n].category=e.msg.category;break}},set_users:function(t,e){t.users=e},add_user:function(t,e){t.users.push(e)},set_comments:function(t,e){t.comments=e},add_comment:function(t,e){t.comments.push(e)},remove_comment:function(t,e){for(let n=0;n<t.comments.length;n++)if(t.comments[n].id===e){t.comments.splice(n,1);break}}},actions:{load_tasks:function({commit:t}){fetch("/api/tasks",{method:"get"}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("set_tasks",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},load_users:function({commit:t}){fetch("/api/users",{method:"get"}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("set_users",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},load_comments:function({commit:t}){fetch("/api/comments",{method:"get"}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("set_comments",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},new_task:function({commit:t},e){fetch("/api/newTask",{method:"post",headers:{"Content-Type":"application/json"},body:e}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("add_task",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},delete_task:function({commit:t},e){fetch(`/api/task/${e}`,{method:"delete"}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("remove_task",e.id)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},change_task:function({commit:t},e){fetch("/api/task/${payload.id}",{method:"put",headers:{"Content-Type":"application/json"},body:e.tsk}).then(t=>{if(!t.ok)throw t;return t.json()}).then(n=>{t("update_task",{id:e.id,tsk:n})}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},new_comment:function({commit:t},e){fetch("/api/comments/new",{method:"post",headers:{"Content-Type":"application/json"},body:e}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("add_task",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},delete_comment:function({commit:t},e){fetch(`/api/comment/${e}`,{method:"delete"}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{t("remove_comment",e.id)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})},log_user:function({commit:t},e){fetch("/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:e}).then(t=>{if(!t.ok)throw t;return t.json()}).then(e=>{localStorage.setItem("auth",e.token),localStorage.setItem("user",e.username),localStorage.setItem("user_id",e.id),t("set_user",e)}).catch(t=>{"function"===typeof t.text?t.text().then(t=>{alert(t)}):alert(t)})}}}),lt=n("5f5b");n("f9e3"),n("2dd8");a["default"].config.productionTip=!1,a["default"].use(lt["a"]),localStorage.setItem("loggedIn",!1),new a["default"]({router:it,store:ct,render:function(t){return t(m)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.52746d27.js.map